<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML3.2 EN">
<HTML>
<HEAD> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/Vec/VecCUDAGetArrayWrite.html" />
<META NAME="GENERATOR" CONTENT="DOCTEXT">
<TITLE>VecCUDAGetArrayWrite</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFF">
   <div id="version" align=right><b>petsc-3.7.4 2016-10-02</b></div>
   <div id="bugreport" align=right><a href="mailto:petsc-maint@mcs.anl.gov?subject=Typo or Error in Documentation &body=Please describe the typo or error in the documentation: petsc-3.7.4 v3.7.4 docs/manualpages/Vec/VecCUDAGetArrayWrite.html "><small>Report Typos and Errors</small></a></div>
<A NAME="VecCUDAGetArrayWrite"><H1>VecCUDAGetArrayWrite</H1></A>
Provides write access to the CUDA buffer inside a vector. 
<H3><FONT COLOR="#CC3333">Synopsis</FONT></H3>
<PRE>
PETSC_EXTERN PetscErrorCode VecCUDAGetArrayWrite(Vec v, PetscScalar **a)
</PRE>
The data pointed to by the device pointer is uninitialized.  The user
may not read from this data.  Furthermore, the entire array needs to
be filled by the user to obtain well-defined behaviour.  The device
memory will be allocated by this function if it hasn't been allocated
previously.  This is analogous to intent(out) in Fortran.
<P>
The device pointer needs to be released with
<A HREF="../Vec/VecCUDARestoreArrayWrite.html#VecCUDARestoreArrayWrite">VecCUDARestoreArrayWrite</A>().  When the pointer is released the
host data of the vector is marked as out of data.  Subsequent access
of the host data with e.g. <A HREF="../Vec/VecGetArray.html#VecGetArray">VecGetArray</A>() incurs a device to host data
transfer.
<P>
<P>
<H3><FONT COLOR="#CC3333">Input Parameter</FONT></H3>
<DT><B>v </B> -the vector
<br>
<P>
<H3><FONT COLOR="#CC3333">Output Parameter</FONT></H3>
<DT><B>a </B> -the CUDA pointer
<br>
<P>
<H3><FONT COLOR="#CC3333">Fortran note</FONT></H3>
This function is not currently available from Fortran.
<P>

<P>
<H3><FONT COLOR="#CC3333">See Also</FONT></H3>
 <A HREF="../Vec/VecCUDARestoreArrayWrite.html#VecCUDARestoreArrayWrite">VecCUDARestoreArrayWrite</A>(), <A HREF="../Vec/VecCUDAGetArrayReadWrite.html#VecCUDAGetArrayReadWrite">VecCUDAGetArrayReadWrite</A>(), <A HREF="../Vec/VecCUDAGetArrayRead.html#VecCUDAGetArrayRead">VecCUDAGetArrayRead</A>(), <A HREF="../Vec/VecCUDAGetArrayWrite.html#VecCUDAGetArrayWrite">VecCUDAGetArrayWrite</A>(), <A HREF="../Vec/VecGetArray.html#VecGetArray">VecGetArray</A>(), <A HREF="../Vec/VecGetArrayRead.html#VecGetArrayRead">VecGetArrayRead</A>()
<BR><P><B><P><B><FONT COLOR="#CC3333">Level:</FONT></B>advanced
<BR><FONT COLOR="#CC3333">Location:</FONT></B><A HREF="../../../src/vec/vec/impls/seq/seqcuda/veccuda2.cu#VecCUDAGetArrayWrite">src/vec/vec/impls/seq/seqcuda/veccuda2.cu</A>
<BR><A HREF="./index.html">Index of all Vec routines</A>
<BR><A HREF="../../index.html">Table of Contents for all manual pages</A>
<BR><A HREF="../singleindex.html">Index of all manual pages</A>
</BODY></HTML>
