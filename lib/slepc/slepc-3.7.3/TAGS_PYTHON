
config/gmakegen.py,1260
PKGS = 'sys eps svd pep nep mfn'.split()PKGS11,362
LANGS = dict(c='C', cxx='CXX', cu='CU', F='F')LANGS12,403
    def all(iterable):all17,529
    def _relpath(path, start=os.path.curdir):_relpath26,730
class debuglogger(object):debuglogger45,1414
    def __init__(self, log):__init__46,1441
    def write(self, string):write49,1495
class Slepc(object):Slepc52,1557
    def __init__(self, slepc_dir=None, petsc_dir=None, petsc_arch=None, installed_petsc=False, verbose=False):__init__53,1578
    def petsc_path(self, *args):petsc_path76,2764
    def arch_path(self, *args):arch_path82,2972
    def read_conf(self):read_conf85,3073
    def inconf(self, key, val):inconf105,4024
    def relpath(self, root, src):relpath116,4473
    def get_sources(self, makevars):get_sources119,4580
    def gen_pkg(self, pkg):gen_pkg126,4871
            def mkrel(src):mkrel147,5923
    def gen_gnumake(self, fd):gen_gnumake157,6370
        def write(stem, srcs):write158,6401
    def summary(self):summary168,6840
def WriteGnuMake(slepc):WriteGnuMake171,6896
def main(slepc_dir=None, petsc_dir=None, petsc_arch=None, installed_petsc=False, output=None, verbose=False):main185,7507
    parser = optparse.OptionParser()parser195,7934

config/configure.py,3616
def AddDefine(conffile,name,value,prefix='SLEPC_'):AddDefine25,978
def CreateFile(basedir,fname,log):CreateFile28,1124
def CreateDir(basedir,dirname,log):CreateDir37,1389
def CreateDirTwo(basedir,dir1,dir2,log):CreateDirTwo47,1696
def CreateDirTest(basedir,dirname,log):CreateDirTest63,2208
def WriteModulesFile(modules,version,sdir):WriteModulesFile76,2595
def WritePkgconfigFile(pkgconfig,version,pversion,sdir,isinstall,prefixdir):WritePkgconfigFile88,3245
def WriteCMakeConfigFile(cmakeconf):WriteCMakeConfigFile99,3953
configdir = os.path.abspath('config')configdir128,5593
argdb = argdb.ArgDB(sys.argv)argdb136,5869
log   = log.Log()log137,5899
slepc   = slepc.SLEPc(argdb,log)slepc141,6062
petsc   = petsc.PETSc(argdb,log)petsc142,6095
arpack  = arpack.Arpack(argdb,log)arpack143,6128
blopex  = blopex.Blopex(argdb,log)blopex144,6163
blzpack = blzpack.Blzpack(argdb,log)blzpack145,6198
feast   = feast.Feast(argdb,log)feast146,6235
primme  = primme.Primme(argdb,log)primme147,6268
trlan   = trlan.Trlan(argdb,log)trlan148,6303
sowing  = sowing.Sowing(argdb,log)sowing149,6336
lapack  = lapack.Lapack(argdb,log)lapack150,6371
externalpackages = [arpack, blopex, blzpack, feast, primme, trlan]externalpackages152,6407
optionspackages  = [slepc, arpack, blopex, blzpack, feast, primme, trlan, sowing]optionspackages153,6474
checkpackages    = [arpack, blopex, blzpack, feast, primme, trlan, lapack]checkpackages154,6556
emptyarch = not ('PETSC_ARCH' in os.environ and os.environ['PETSC_ARCH'])emptyarch182,7549
  archname = petsc.archarchname186,7680
libdir  = CreateDir(archdir,'lib',log)libdir190,7814
confdir = CreateDirTwo(libdir,'slepc','conf',log)confdir191,7853
      f = open(os.path.join(confdir,'slepcvariables'),'r')f215,8696
      searchlines = f.readlines()searchlines216,8755
includedir = CreateDir(archdir,'include',log)includedir239,9674
modulesdir = CreateDirTwo(confdir,'modules','slepc',log)modulesdir240,9720
pkgconfdir = CreateDir(libdir,'pkgconfig',log)pkgconfdir241,9777
slepcvars  = CreateFile(confdir,'slepcvariables',log)slepcvars242,9824
slepcrules = CreateFile(confdir,'slepcrules',log)slepcrules243,9878
slepcconf  = CreateFile(includedir,'slepcconf.h',log)slepcconf244,9928
cmakeconf  = CreateFile(confdir,'SLEPcBuildInternal.cmake',log)cmakeconf245,9982
pkgconfig  = CreateFile(pkgconfdir,'SLEPc.pc',log)pkgconfig246,10046
  modules  = CreateFile(modulesdir,slepc.lversion,log)modules248,10117
  modules  = CreateFile(modulesdir,slepc.lversion+'-'+archname,log)modules250,10178
testruns = set(petsc.test_runs.split())testruns256,10405
testruns = testruns.intersection(set(['C','F90','Fortran','C_Complex','Fortran_Complex','C_NoComplex','Fortran_NoComplex']))testruns257,10445
  testruns = testruns.union(set(['C_NoF128']))testruns259,10606
    testruns = testruns.union(set(['DATAFILESPATH_Complex']))testruns263,10760
    testruns = testruns.union(set(['DATAFILESPATH']))testruns265,10830
  globconf = CreateFile(os.path.join(slepc.dir,'lib','slepc','conf'),'slepcvariables',log)globconf282,11531
bfort = petsc.bfortbfort333,13770
  bfort = sowing.Install(archdir,petsc.make)bfort335,13817
      bfort = os.path.join(archdir,'bin','bfort')bfort340,13945
      bfort = sowing.Install(archdir,petsc.make)bfort342,14029
cmakeok = Falsecmakeok356,14569
      cmakeok = cmakeboot.main(slepc.dir,petsc.dir,log=log)cmakeok373,15182
      petscdate = dateutil.parser.parse(petsc.gitdate)petscdate409,16583
      slepcdate = dateutil.parser.parse(slepc.gitdate)slepcdate410,16638

config/package.py,767
class Package:Package25,1015
  def __init__(self,argdb,log):__init__27,1031
  def ProcessArgs(self,argdb):ProcessArgs39,1393
  def Process(self,conf,vars,cmake,petsc,archdir=''):Process63,2246
  def Precondition(self,petsc):Precondition80,2879
  def Download(self,externdir,builddir,prefix=None):Download96,3689
  def ShowHelp(self):ShowHelp157,5949
  def ShowInfo(self):ShowInfo168,6670
  def LinkWithOutput(self,functions,callbacks,flags):LinkWithOutput173,6841
  def Link(self,functions,callbacks,flags):Link224,8675
  def FortranLink(self,functions,callbacks,flags):FortranLink229,8835
  def GenerateGuesses(self,name):GenerateGuesses258,9742
  def FortranLib(self,conf,vars,cmake,dirs,libs,functions,callbacks = []):FortranLib277,10334

config/cmakegen.py,1817
    class defaultdict(dict):defaultdict24,771
        def __init__(self, default_factory=None, *a, **kw):__init__25,800
        def __getitem__(self, key):__getitem__31,1127
        def __missing__(self, key):__missing__36,1305
        def __reduce__(self):__reduce__41,1502
        def copy(self):copy47,1733
        def __copy__(self):__copy__49,1792
        def __deepcopy__(self, memo):__deepcopy__51,1878
        def __repr__(self):__repr__55,2051
class StdoutLogger(object):StdoutLogger59,2211
  def write(self,str):write60,2239
def cmakeconditional(key,val):cmakeconditional63,2278
  def unexpected():unexpected64,2309
AUTODIRS = set('ftn-auto ftn-custom f90-custom'.split()) # Automatically recurse into these, if they existAUTODIRS88,3074
SKIPDIRS = set('benchmarks'.split())                     # Skip these during the buildSKIPDIRS89,3181
NOWARNDIRS = set('tests tutorials'.split())              # Do not warn about mismatch in theseNOWARNDIRS90,3268
def pathsplit(path):pathsplit92,3364
class Mistakes(object):Mistakes101,3647
    def __init__(self, log, verbose=False):__init__102,3671
    def compareDirLists(self,root, mdirs, dirs):compareDirLists107,3797
    def compareSourceLists(self, root, msources, files):compareSourceLists123,4586
    def summary(self):summary139,5477
def stripsplit(line):stripsplit145,6041
def pkgsources(pkg, mistakes):pkgsources148,6121
    def relpath(filename):relpath169,7166
def writeRoot(f,petscdir,petscdestdir):writeRoot180,7724
def writePackage(f,pkg,pkgdeps,mistakes):writePackage223,9399
    def body(indentlevel):body226,9520
def main(slepcdir,petscdir,petscdestdir,log=StdoutLogger(), verbose=False):main249,10504
    written = Truewritten289,12204
  parser = optparse.OptionParser()parser300,12435

config/packages/sowing.py,144
class Sowing(package.Package):Sowing25,972
  def __init__(self,argdb,log):__init__27,1004
  def Install(self,archdir,make):Install34,1241

config/packages/primme.py,216
class Primme(package.Package):Primme25,975
  def __init__(self,argdb,log):__init__27,1007
  def Check(self,conf,vars,cmake,petsc):Check38,1415
  def Install(self,conf,vars,cmake,petsc,archdir):Install80,2873

config/packages/slepc.py,195
class SLEPc:SLEPc24,959
  def __init__(self,argdb,log):__init__26,973
  def ShowHelp(self):ShowHelp34,1276
  def InitDir(self):InitDir41,1659
  def LoadVersion(self):LoadVersion53,2215

config/packages/blopex.py,161
class Blopex(package.Package):Blopex25,975
  def __init__(self,argdb,log):__init__27,1007
  def Install(self,conf,vars,cmake,petsc,archdir):Install37,1389

config/packages/petsc.py,255
class PETSc(package.Package):PETSc24,961
  def __init__(self,argdb,log):__init__26,992
  def Check(self):Check30,1101
  def InitDir(self,prefixdir):InitDir33,1164
  def LoadVersion(self):LoadVersion45,1562
  def LoadConf(self):LoadConf77,2903

config/packages/lapack.py,257
class Lapack(package.Package):Lapack24,947
  def __init__(self,argdb,log):__init__26,979
  def ShowInfo(self):ShowInfo30,1089
  def Process(self,conf,vars,cmake,petsc,archdir=''):Process40,1505
  def Check(self,conf,vars,cmake,petsc):Check46,1710

config/packages/blzpack.py,150
class Blzpack(package.Package):Blzpack24,947
  def __init__(self,argdb,log):__init__26,980
  def Check(self,conf,vars,cmake,petsc):Check34,1219

config/packages/trlan.py,213
class Trlan(package.Package):Trlan25,967
  def __init__(self,argdb,log):__init__27,998
  def Check(self,conf,vars,cmake,petsc):Check39,1481
  def Install(self,conf,vars,cmake,petsc,archdir):Install57,1883

config/packages/arpack.py,262
class Arpack(package.Package):Arpack25,967
  def __init__(self,argdb,log):__init__27,999
  def Functions(self,petsc):Functions39,1481
  def Check(self,conf,vars,cmake,petsc):Check65,2290
  def Install(self,conf,vars,cmake,petsc,archdir):Install83,2859

config/packages/feast.py,146
class Feast(package.Package):Feast24,947
  def __init__(self,argdb,log):__init__26,978
  def Check(self,conf,vars,cmake,petsc):Check34,1218

config/log.py,273
class Log:Log24,942
  def Open(self,filename):Open26,954
  def Println(self,string):Println33,1150
  def Print(self,string):Print37,1227
  def NewSection(self,string):NewSection41,1302
  def write(self,string):write46,1427
  def Exit(self,string):Exit49,1485

config/argdb.py,343
class ArgDB:ArgDB24,942
  def __init__(self,argv):__init__26,956
  def PopString(self,keyword):PopString45,1724
  def PopPath(self,keyword):PopPath61,2095
  def PopUrl(self,keyword):PopUrl77,2496
  def PopBool(self,keyword):PopBool96,2962
  def PopHelp(self):PopHelp112,3328
  def ErrorIfNotEmpty(self):ErrorIfNotEmpty128,3703

config/install.py,1067
  WindowsError = NoneWindowsError7,94
class Installer:Installer9,117
  def __init__(self, args = None):__init__10,134
  def setupDirectories(self):setupDirectories26,775
  def checkDestdir(self):checkDestdir46,1986
  def copytree(self, src, dst, symlinks = False, copyFunc = shutil.copy2, exclude = []):copytree70,3424
  def fixConfFile(self, src):fixConfFile122,5490
  def fixConf(self):fixConf144,6690
  def createUninstaller(self):createUninstaller151,6959
  def installIncludes(self):installIncludes183,7859
  def installConf(self):installConf189,8151
  def installBin(self):installBin194,8376
  def installShare(self):installShare201,8644
  def copyLib(self, src, dst):copyLib205,8758
  def installLib(self):installLib230,9912
  def outputInstallDone(self):outputInstallDone235,10066
  def outputDestDirDone(self):outputDestDirDone245,10374
  def runsetup(self):runsetup254,10642
  def runcopy(self):runcopy259,10728
  def runfix(self):runfix279,11462
  def rundone(self):rundone283,11513
  def run(self):run291,11687

config/cmakeboot.py,647
def noCheck(command, status, output, error):noCheck20,746
def quoteIfNeeded(path):quoteIfNeeded23,801
class StdoutLogger(object):StdoutLogger31,1064
  def write(self,str):write32,1092
class PETScMaker(script.Script):PETScMaker35,1131
 def __init__(self, slepcdir, petscdir, petscarch, argDB = None, framework = None):__init__36,1164
 def __str__(self):__str__47,1558
 def setupModules(self):setupModules50,1592
 def setup(self):setup69,2953
 def cmakeboot(self, args, log):cmakeboot75,3093
def main(slepcdir, petscdir, petscarch=os.environ['PETSC_ARCH'], argDB=None, framework=None, log=StdoutLogger(), args=[]):main176,8215
